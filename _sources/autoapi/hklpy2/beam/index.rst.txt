hklpy2.beam
===========

.. py:module:: hklpy2.beam

.. autoapi-nested-parse::

   Wavelength of the incident radiation.

   Supports compatible unit conversions.

   .. autosummary::

       ~A_KEV
       ~ConstantMonochromaticWavelength
       ~MonochromaticXrayWavelength
       ~WavelengthBase



Attributes
----------

.. autoapisummary::

   hklpy2.beam.logger
   hklpy2.beam.DEFAULT_ENERGY_UNITS
   hklpy2.beam.DEFAULT_WAVELENGTH
   hklpy2.beam.DEFAULT_WAVELENGTH_DEADBAND
   hklpy2.beam.DEFAULT_WAVELENGTH_UNITS
   hklpy2.beam.XRAY_ENERGY_EQUIVALENT_
   hklpy2.beam.A_KEV


Classes
-------

.. autoapisummary::

   hklpy2.beam.WavelengthBase
   hklpy2.beam.ConstantMonochromaticWavelength
   hklpy2.beam.MonochromaticXrayWavelength


Module Contents
---------------

.. py:data:: logger

.. py:data:: DEFAULT_ENERGY_UNITS
   :value: 'keV'


.. py:data:: DEFAULT_WAVELENGTH
   :value: 1.0


.. py:data:: DEFAULT_WAVELENGTH_DEADBAND
   :value: 0.0001


.. py:data:: DEFAULT_WAVELENGTH_UNITS
   :value: 'angstrom'


.. py:data:: XRAY_ENERGY_EQUIVALENT_
   :value: 806554.3937


   Energy equivalent factor :math:`1 / (h \nu)`

   Per NIST publication, of CODATA Fundamental Physical Constants, 2022 revision.

   :see: https://physics.nist.gov/cuu/Constants/factors.html ("1 eV" *v*. "1/m")

.. py:data:: A_KEV
   :value: 12.398419843856837


   X-ray voltage wavelength product (:math:`h \nu`), per NIST standard.

.. py:class:: WavelengthBase(*, units: str = None, **kwargs)

   Bases: :py:obj:`abc.ABC`


   Base for all wavelength (:math:`\lambda`) classes.

   Parameters

   units str:
       Engineering units of wavelength.  It is expected that
       wavelength and unit cell dimensions have the same units.

   .. autosummary::

       ~_fromdict
       ~wavelength
       ~wavelength_units
       ~source_type
       ~spectrum_type


   .. py:attribute:: source_type
      :value: 'any'


      Nature of the incident radiation.


   .. py:attribute:: spectrum_type
      :value: 'any'


      Description of the spectrum of the incident radiation.


   .. py:attribute:: _wavelength_units
      :value: 'angstrom'



   .. py:method:: _asdict()

      Return source parameters as a dict.



   .. py:method:: _fromdict_core(config)

      Restore most items from config dictionary.



   .. py:method:: _fromdict(config)

      Restore configuration from dictionary.



   .. py:property:: wavelength
      :type: float

      :abstractmethod:


      Wavelength (:math:`\lambda`).


   .. py:property:: wavelength_units
      :type: str


      Engineering units of the wavelength.


.. py:class:: ConstantMonochromaticWavelength(wavelength: float, **kwargs)

   Bases: :py:obj:`WavelengthBase`


   Monochromatic wavelength (and units); cannot be changed.

   Just wavelength.  Can be used with any type of radiation source.

   .. autosummary::

       ~wavelength
       ~wavelength_units
       ~source_type
       ~spectrum_type


   .. py:attribute:: source_type
      :value: 'any'


      Nature of the incident radiation.


   .. py:attribute:: spectrum_type
      :value: 'monochromatic'


      Description of the spectrum of the incident radiation.


   .. py:attribute:: _wavelength


   .. py:method:: _fromdict(config: dict[str, float | int | str])

      Restore configuration from dictionary but not wavelength.



   .. py:property:: wavelength
      :type: float


      Wavelength (:math:`\lambda`).


.. py:class:: MonochromaticXrayWavelength(wavelength: float = DEFAULT_WAVELENGTH, energy_units: str = None, wavelength_updated: object = None, wavelength_deadband: float = DEFAULT_WAVELENGTH_DEADBAND, **kwargs)

   Bases: :py:obj:`WavelengthBase`


   Monochromatic X-ray wavelength (and units).

   Parameters

   wavelength float:
       Monochromatic wavelength of the incident radiation.  It is expected that
       wavelength and unit cell dimensions have the same units.

   units str:
       Engineering units of wavelength.  It is expected that
       wavelength and unit cell dimensions have the same units.

   wavelength_updated object:
       Caller provided function to signal when wavelength has been updated.
       Set ``True`` from ``wavelength.setter`` property.

   wavelength_deadband float:
       Variation in wavelength less than this number will not cause
       wavelength_updated to be updated.

   energy_units str:
       Engineering units of energy.

   .. autosummary::

       ~wavelength
       ~wavelength_units
       ~energy
       ~energy_units
       ~source_type
       ~spectrum_type


   .. py:attribute:: source_type
      :value: 'X-ray'


      Nature of the incident radiation.


   .. py:attribute:: spectrum_type
      :value: 'monochromatic'


      Description of the spectrum of the incident radiation.


   .. py:property:: energy_units
      :type: str


      Engineering units of the X-ray photon energy.


   .. py:attribute:: wavelength_updated
      :value: None



   .. py:attribute:: _wavelength
      :value: 1.0



   .. py:attribute:: wavelength_deadband
      :value: 0.0001



   .. py:attribute:: wavelength_reference
      :value: 1.0



   .. py:property:: wavelength
      :type: float


      Wavelength (:math:`\lambda`).


   .. py:property:: energy
      :type: float


      Incident monochromatic X-ray photon energy (:math:`E`).

      .. math::

          \lambda = (h \nu) / E


